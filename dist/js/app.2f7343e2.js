(function(e){function t(t){for(var a,n,o=t[0],l=t[1],u=t[2],d=0,f=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&f.push(i[n][0]),i[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);c&&c(t);while(f.length)f.shift()();return r.push.apply(r,u||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],a=!0,o=1;o<s.length;o++){var l=s[o];0!==i[l]&&(a=!1)}a&&(r.splice(t--,1),e=n(n.s=s[0]))}return e}var a={},i={app:0},r=[];function n(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=a,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(s,a,function(t){return e[t]}.bind(null,a));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var c=l;r.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";s("4b77")},"4b77":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("6da3"),s("dea3"),s("da68"),s("1311");var a=s("430a"),i=s("5422"),r=s.n(i),n=(s("e9b7"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)}),o=[],l=(s("034f"),s("cba8")),u={},c=Object(l["a"])(u,n,o,!1,null,null,null),d=c.exports,f=s("a81e"),g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"home",attrs:{"element-loading-text":"loading...","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[s("div",{staticClass:"flex-width-box"},[s("div",{staticClass:"user-aside fix-width"},[s("div",{staticClass:"user-search"},[s("el-input",{attrs:{clearable:"",placeholder:"Please enter name"},on:{clear:e.userNameChange,change:e.userNameChange},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),s("el-radio-group",{on:{change:e.genderChange},model:{value:e.gender,callback:function(t){e.gender=t},expression:"gender"}},[s("el-radio",{attrs:{label:"male"}},[e._v("male")]),s("el-radio",{attrs:{label:"female"}},[e._v("female")])],1),s("el-button",{staticClass:"reset-btn",attrs:{type:"primary"},on:{click:e.reset}},[e._v("reset")])],1),s("div",{ref:"infiniteList",staticClass:"user-list",staticStyle:{"overflow-x":"hidden","overflow-y":"auto"},on:{scroll:e.scroll}},[this.userHistoryList.length>0?s("ul",{staticClass:"infinite-list"},[e._l(e.userHistoryList,(function(t,a){return s("li",{key:a,staticClass:"infinite-item",class:t.email===e.email?"active":"",on:{click:function(s){return e.userChange(t)}}},[s("el-image",{key:t.picture.large,staticClass:"item-avatar",attrs:{src:t.picture.large,lazy:""}}),s("div",{staticClass:"item-info"},[s("div",{staticClass:"name"},[e._v(e._s(t.name.first)+" "+e._s(t.name.last))]),s("div",{staticClass:"email"},[e._v(e._s(t.email))])])],1)})),s("div",{staticClass:"more",on:{click:e.moreData}},[e._v("More results...")])],2):s("el-empty",{attrs:{description:"Empty"}})],1)]),s("div",{staticClass:"user-content auto-full-width"},[this.userHistoryList.length>0?[s("div",{staticClass:"top"},[e.userInfo.picture?s("img",{staticClass:"top-avatar",attrs:{src:e.userInfo.picture.large,alt:"user-logo"}}):e._e(),e.userInfo.picture?s("div",{staticClass:"top-info"},[s("div",{staticClass:"name"},[e._v(e._s(e.userInfo.name.first)+" "+e._s(e.userInfo.name.last))]),s("p",[e._v(e._s(e.userInfo.login.username))]),s("p",[e._v(e._s(e.userInfo.id.name)+" "+e._s(e.userInfo.id.value))]),s("p",[e._v(e._s(e.userInfo.email))])]):e._e()]),s("div",{staticClass:"lower"},[s("p",[s("span",{staticClass:"label"},[e._v("cell：")]),e._v(e._s(e.userInfo.cell))]),s("p",[s("span",{staticClass:"label"},[e._v("phone：")]),e._v(e._s(e.userInfo.phone))]),s("p",[s("span",{staticClass:"label"},[e._v("gender：")]),e._v(e._s(e.userInfo.gender))]),s("p",[s("span",{staticClass:"label"},[e._v("nat：")]),e._v(e._s(e.userInfo.nat))]),e.userInfo.location?[s("p",[s("span",{staticClass:"label"},[e._v("city：")]),e._v(e._s(e.userInfo.location.city))]),s("p",[s("span",{staticClass:"label"},[e._v("country：")]),e._v(e._s(e.userInfo.location.country))]),s("p",[s("span",{staticClass:"label"},[e._v("state：")]),e._v(e._s(e.userInfo.location.state))]),s("p",[s("span",{staticClass:"label"},[e._v("street：")]),e._v(e._s(e.userInfo.location.street.name)+" "+e._s(e.userInfo.location.street.number))])]:e._e()],2)]:[s("el-empty",{attrs:{description:"Empty"}})]],2)])])},m=[],p=s("98a4"),h=(s("51b3"),s("87d5"),s("b3d9"),s("5a05"),s("89a8"),s("10dd"),s("8ea3"),s("2788"),s("aa08"),s("1e62")),v=s.n(h),w={name:"Home",data:function(){return{loading:!1,page:1,historyPage:1,userName:"",gender:"",pos:0,email:"",userList:[],userHistoryList:[],userInfo:{}}},created:function(){var e=window.localStorage.getItem("userName"),t=window.localStorage.getItem("gender"),s=window.localStorage.getItem("email"),a=window.localStorage.getItem("userInfo"),i=window.localStorage.getItem("page"),r=window.localStorage.getItem("list");if(e&&""!==e&&(this.userName=e),t&&""!==t&&(this.gender=t),s&&""!==s&&(this.email=s,this.userInfo=JSON.parse(a)),i&&""!==i){var n=25*Number(i);this.page=Number(i)+1,r&&r.length>0?(this.userList=JSON.parse(JSON.stringify(r)),this.filterData()):this.getList(1,n)}else this.getList()},methods:{getList:function(e,t){var s=this,a=e||this.page,i=t||25;this.loading=!0,v.a.get("https://randomuser.me/api/",{params:{page:a,seed:"seed",nat:"us",results:i,gender:this.gender}}).then((function(a){s.userList=e?a.data.results:s.userList.concat(a.data.results),s.userHistoryList=Object(p["a"])(s.userList),window.localStorage.setItem("list",JSON.stringify(s.userHistoryList)),""===s.email&&(s.email=JSON.parse(JSON.stringify(s.userList[0])).email,s.userInfo=JSON.parse(JSON.stringify(s.userList[0])),window.localStorage.setItem("email",s.email),window.localStorage.setItem("userInfo",JSON.stringify(s.userList[0]))),t?s.scrollToBottom():(window.localStorage.setItem("page",s.page),s.page=s.page+1),""===s.userName&&""===s.gender||s.filterData(1),s.loading=!1})).catch((function(e){s.loading=!1,console.log(e)}))},reset:function(){this.userName="",this.gender="",this.page=1,this.pos=0,this.email=JSON.parse(JSON.stringify(this.userList[0])).email,this.userInfo=JSON.parse(JSON.stringify(this.userList[0])),window.localStorage.setItem("page",this.page),window.localStorage.setItem("email",this.email),window.localStorage.setItem("userInfo",JSON.stringify(this.userList[0])),window.localStorage.setItem("userName",this.userName),window.localStorage.setItem("gender",this.gender),window.localStorage.setItem("pos",this.pos),this.getList(1,25)},scrollToBottom:function(){var e=Number(window.localStorage.getItem("pos"));this.$nextTick((function(){var t=document.querySelector(".user-list");t.scrollTop=e}))},scroll:function(e){this.pos=e.target.scrollTop,window.localStorage.setItem("pos",this.pos)},moreData:function(){this.getList()},userNameChange:function(){window.localStorage.setItem("userName",this.userName),this.filterData(1)},genderChange:function(){window.localStorage.setItem("gender",this.gender),this.filterData(1)},filterData:function(){var e=this,t=window.localStorage.getItem("list");console.log(t&&t.length),this.userHistoryList=t&&t.length>0?Object(p["a"])(JSON.parse(t)):Object(p["a"])(t),""!==this.userName&&(this.userHistoryList=this.userHistoryList.filter((function(t){return-1!==t.name.first.toLowerCase().indexOf(e.userName.toLowerCase())||-1!==t.name.last.toLowerCase().indexOf(e.userName.toLowerCase())}))),""!==this.gender&&(this.userHistoryList=this.userHistoryList.filter((function(t){return t.gender===e.gender}))),""===this.userName&&""===this.gender&&(this.userHistoryList=this.userList),window.localStorage.setItem("list",JSON.stringify(this.userHistoryList));var s=this.userHistoryList.map((function(e){return e.email}));this.userHistoryList.length>0&&!s.includes(this.email)&&(this.email=this.userHistoryList[0].email,this.userInfo=this.userHistoryList[0])},userChange:function(e){var t=JSON.parse(JSON.stringify(e));this.email=t.email,this.userInfo=t,window.localStorage.setItem("email",this.email),window.localStorage.setItem("userInfo",JSON.stringify(t))}}},y=w,_=Object(l["a"])(y,g,m,!1,null,null,null),b=_.exports;a["default"].use(f["a"]);var I=[{path:"/",name:"Home",component:b}],S=new f["a"]({mode:"hash",base:"/",routes:I}),N=S,L=s("cf6b");a["default"].use(L["a"]);var C=new L["a"].Store({state:{},mutations:{},actions:{},modules:{}});s("6861");a["default"].use(r.a),a["default"].config.productionTip=!1,new a["default"]({router:N,store:C,render:function(e){return e(d)}}).$mount("#app")},6861:function(e,t,s){}});
//# sourceMappingURL=app.2f7343e2.js.map